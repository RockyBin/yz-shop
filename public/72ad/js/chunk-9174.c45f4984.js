(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9174"],{"540f":function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Card",{attrs:{shadow:""}},[e("div",[e("Form",{ref:"edituserform",attrs:{model:a.formdata,rules:a.rules,"label-width":100}},[e("FormItem",{attrs:{label:"姓名",prop:"name"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请填写姓名"},model:{value:a.formdata.name,callback:function(t){a.$set(a.formdata,"name",t)},expression:"formdata.name"}})],1),e("FormItem",{attrs:{label:"用户名",prop:"username"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请填写用户名"},model:{value:a.formdata.username,callback:function(t){a.$set(a.formdata,"username",t)},expression:"formdata.username"}})],1),e("FormItem",{attrs:{label:"密码",prop:"password"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"password",placeholder:"请填写密码"},model:{value:a.formdata.password,callback:function(t){a.$set(a.formdata,"password",t)},expression:"formdata.password"}})],1),e("FormItem",{attrs:{label:"状态",prop:"status"}},[e("Select",{staticStyle:{width:"200px"},model:{value:a.formdata.status,callback:function(t){a.$set(a.formdata,"status",t)},expression:"formdata.status"}},[e("Option",{attrs:{value:"1"}},[a._v("生效")]),e("Option",{attrs:{value:"0"}},[a._v("禁用")])],1)],1),e("FormItem",{attrs:{label:"权限",prop:"perms"}},[e("CheckboxGroup",{model:{value:a.formdata.perms,callback:function(t){a.$set(a.formdata,"perms",t)},expression:"formdata.perms"}},[e("Checkbox",{attrs:{label:"SYSADMIN"}},[a._v("系统管理员")]),e("Checkbox",{attrs:{label:"SITEADMIN"}},[a._v("网站管理员")]),e("Checkbox",{attrs:{label:"TPLADMIN"}},[a._v("模板管理员")])],1)],1),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:a.handleSubmit}},[a._v("提交")])],1)],1)],1)])},s=[],o=(e("28a5"),e("7f7f"),e("c93e")),d=e("2f62"),n=e("66df"),m={name:"site_add_page",data:function(){return{formdata:{id:this.$route.query.id,name:"",username:"",password:"",status:"0",perms:[]},rules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],username:[{required:!0,message:"用户名不能为空",trigger:"blur"}]}}},computed:{},methods:Object(o["a"])({},Object(d["d"])(["closeTag"]),{changeExTime:function(a){this.formdata.expiry_at=a},handleCloseTag:function(){this.closeTag({path:"/user/edit",query:{id:this.$route.query.id}})},loadInfo:function(){var a=this,t="/core/sysmanage/admin/getinfo",e={id:this.$route.query.id};n["a"].request({url:t,data:e,method:"post"}).then(function(t){200==t.data.code?(a.formdata.name=t.data.data.info.name,a.formdata.username=t.data.data.info.username,a.formdata.status=t.data.data.info.status+"",a.formdata.perms=t.data.data.info.perm.split(",")):a.$Message.error(t.data.msg)})},handleSubmit:function(){var a=this;this.$refs["edituserform"].validate(function(t){if(t){var e="/core/sysmanage/admin/edit",r=a.formdata;n["a"].request({url:e,data:r,method:"post"}).then(function(t){200==t.data.code?(a.$Message.success("修改管理员成功"),a.handleCloseTag(),a.$router.push({path:"/user/index"})):a.$Message.error(t.data.msg)})}else a.$Message.error("请完整填写表单!")})}}),mounted:function(){this.loadInfo()}},u=m,i=(e("59df"),e("2877")),l=Object(i["a"])(u,r,s,!1,null,null,null);l.options.__file="edit.vue";t["default"]=l.exports},"59df":function(a,t,e){"use strict";var r=e("6003"),s=e.n(r);s.a},6003:function(a,t,e){}}]);