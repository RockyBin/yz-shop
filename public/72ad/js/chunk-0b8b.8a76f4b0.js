(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b8b"],{1327:function(t,a,e){"use strict";var s=e("9dfa"),i=e.n(s);i.a},"9dfa":function(t,a,e){},f7d5:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Card",{attrs:{shadow:""}},[e("div",{staticClass:"header"},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词",clearable:""},model:{value:t.keyword,callback:function(a){t.keyword=a},expression:"keyword"}}),e("Select",{staticStyle:{width:"200px","margin-right":"10px"},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[e("Option",{attrs:{value:""}},[t._v("不限制")]),e("Option",{attrs:{value:"1"}},[t._v("启用")]),e("Option",{attrs:{value:"0"}},[t._v("禁用")])],1),e("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),e("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加模板")])],1),e("div",{staticClass:"data"},[e("table",{staticClass:"datatable",attrs:{cellspacing:"1",bgcolor:"#eeeeee"}},[e("tr",{staticClass:"thead"},[e("td",[t._v("ID")]),e("td",[t._v("图片")]),e("td",[t._v("名称")]),e("td",[t._v("建立时间")]),e("td",[t._v("修改时间")]),e("td",[t._v("演示网址")]),e("td",[t._v("状态")]),e("td",[t._v("是否空白")]),e("td",[t._v("类型")]),e("td",[t._v("操作")])]),t._l(t.list,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",[a.image?e("img",{staticStyle:{"max-width":"100px"},attrs:{src:"/sysdata/template/"+a.image}}):t._e()]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.created_at))]),e("td",[t._v(t._s(a.updated_at))]),e("td",[e("a",{attrs:{href:a.demo_url,target:"_blank"}},[t._v(t._s(a.demo_url))])]),e("td",[t._v(t._s(1==a.status?"启用":"禁用"))]),e("td",[t._v(t._s(1==a.is_blank?"是":"否"))]),e("td",[t._v(t._s(1==a.device_type?"手机":"广告屏"))]),e("td",{staticClass:"btnlist"},[e("Button",{attrs:{type:"primary",size:"small",tplid:a.id},on:{click:function(e){t.edit(a.id)}}},[t._v("修改")]),e("Button",{attrs:{type:"warning",size:"small",tplid:a.id},on:{click:function(e){t.deleteTpl(a.name,a.id)}}},[t._v("删除")])],1)])})],2),e("div",{staticClass:"paper"},[e("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.currentPage,"show-elevator":""},on:{"on-change":t.pageChange}})],1)])])},i=[],d=(e("cadf"),e("551c"),e("097d"),e("66df")),n={name:"template_list_page",data:function(){return{keyword:"",status:"",total:0,pageSize:50,pageCount:0,currentPage:1,list:[]}},computed:{},methods:{stopLoading:function(t){this[t]=!1},search:function(){this.loadData(1)},add:function(){this.$router.push({path:"/template/add"})},edit:function(t){this.$router.push({path:"/template/edit?id="+t})},deleteTpl:function(t,a){var e=this;this.$Modal.confirm({title:"确认",content:"确认删除模板 ".concat(t," 吗?"),onOk:function(t){var s={id:a};d["a"].request({url:"/shop/sysmanage/template/delete",data:s,method:"post"}).then(function(t){200==t.data.code?e.loadData(1):e.$Message.error(t.data.msg)})}})},pageChange:function(t){this.loadData(t)},loadData:function(t){var a=this,e="/shop/sysmanage/template/list",s={keyword:this.keyword,status:this.status,page:t,pageSize:this.pageSize};d["a"].request({url:e,data:s,method:"post"}).then(function(t){a.pageCount=t.data.data.pageCount,a.currentPage=t.data.data.currentPage,a.total=t.data.data.total,a.pageSize=t.data.data.pageSize,a.list=t.data.data.list})}},mounted:function(){this.listLoading=!0,this.loadData(1)}},o=n,l=(e("1327"),e("2877")),r=Object(l["a"])(o,s,i,!1,null,null,null);r.options.__file="index.vue";a["default"]=r.exports}}]);