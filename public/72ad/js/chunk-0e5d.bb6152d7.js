(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e5d"],{5935:function(t,a,e){},"910e":function(t,a,e){"use strict";var s=e("5935"),i=e.n(s);i.a},ce8f:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Card",{attrs:{shadow:""}},[e("div",{staticClass:"header"},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词",clearable:""},model:{value:t.keyword,callback:function(a){t.keyword=a},expression:"keyword"}}),e("Select",{staticStyle:{width:"200px","margin-right":"10px"},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[e("Option",{attrs:{value:""}},[t._v("状态-不限")]),e("Option",{attrs:{value:"0"}},[t._v("未生效")]),e("Option",{attrs:{value:"1"}},[t._v("试用")]),e("Option",{attrs:{value:"2"}},[t._v("试用停用")]),e("Option",{attrs:{value:"3"}},[t._v("生效")]),e("Option",{attrs:{value:"4"}},[t._v("停用")]),e("Option",{attrs:{value:"5"}},[t._v("用户试用停用")]),e("Option",{attrs:{value:"6"}},[t._v("用户停用")])],1),e("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),e("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加网站")])],1),e("div",{staticClass:"data"},[e("table",{staticClass:"datatable",attrs:{cellspacing:"1",bgcolor:"#eeeeee"}},[e("tr",{staticClass:"thead"},[e("td",[t._v("ID")]),e("td",[t._v("网站名称")]),e("td",[t._v("域名")]),e("td",[t._v("创建时间")]),e("td",[t._v("过期时间")]),e("td",[t._v("版本")]),e("td",[t._v("状态")]),e("td",[t._v("操作")])]),t._l(t.list,function(a){return e("tr",[e("td",[t._v(t._s(a.site_id))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.domains))]),e("td",[t._v(t._s(a.created_at))]),e("td",[t._v(t._s(a.expiry_at))]),e("td",[t._v(t._s(a.version))]),e("td",[t._v(t._s(a.status_text))]),e("td",{staticClass:"btnlist"},[e("Button",{attrs:{type:"success",size:"small",siteid:a.site_id},on:{click:function(e){t.login(a.site_id)}}},[t._v("登录")]),e("Button",{attrs:{type:"primary",size:"small",siteid:a.site_id},on:{click:function(e){t.edit(a.site_id)}}},[t._v("修改")]),e("Button",{attrs:{type:"warning",size:"small",siteid:a.site_id},on:{click:function(e){t.deleteSite(a.name,a.site_id)}}},[t._v("删除")])],1)])})],2),e("div",{staticClass:"paper"},[e("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.currentPage,"show-elevator":""},on:{"on-change":t.pageChange}})],1)])])},i=[],n=(e("cadf"),e("551c"),e("097d"),e("66df")),o={name:"site_list_page",data:function(){return{status:"",keyword:"",total:0,pageSize:50,pageCount:0,currentPage:1,list:[]}},computed:{},methods:{stopLoading:function(t){this[t]=!1},search:function(){this.loadData(1)},add:function(){this.$router.push({path:"/site/add"})},edit:function(t){this.$router.push({path:"/site/edit?siteid="+t})},login:function(t){window.open("/core/sysmanage/site/login?siteid="+t)},deleteSite:function(t,a){var e=this;this.$Modal.confirm({title:"确认",content:"确认删除网站 ".concat(t," 吗?"),onOk:function(t){var s={siteid:a};n["a"].request({url:"/core/sysmanage/site/delete",data:s,method:"post"}).then(function(t){200==t.data.code?e.loadData(1):e.$Message.error(t.data.msg)})}})},pageChange:function(t){this.loadData(t)},loadData:function(t){var a=this,e="/core/sysmanage/site/getlist",s={keyword:this.keyword,status:this.status,page:t,pageSize:this.pageSize};n["a"].request({url:e,data:s,method:"post"}).then(function(t){a.pageCount=t.data.data.pageCount,a.currentPage=t.data.data.currentPage,a.total=t.data.data.total,a.pageSize=t.data.data.pageSize,a.list=t.data.data.list})}},mounted:function(){this.listLoading=!0,this.loadData(1)}},d=o,r=(e("910e"),e("2877")),l=Object(r["a"])(d,s,i,!1,null,null,null);l.options.__file="index.vue";a["default"]=l.exports}}]);