(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b707"],{"53ea":function(t,a,e){"use strict";var n=e("9a29"),s=e.n(n);s.a},"718b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Card",{attrs:{shadow:""}},[e("div",{staticClass:"header"},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键词",clearable:""},model:{value:t.keyword,callback:function(a){t.keyword=a},expression:"keyword"}}),e("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),e("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加管理员")])],1),e("div",{staticClass:"data"},[e("table",{staticClass:"datatable",attrs:{cellspacing:"1",bgcolor:"#eeeeee"}},[e("tr",{staticClass:"thead"},[e("td",[t._v("ID")]),e("td",[t._v("姓名")]),e("td",[t._v("用户名")]),e("td",[t._v("权限")]),e("td",[t._v("状态")]),e("td",[t._v("最后登录")]),e("td",[t._v("操作")])]),t._l(t.list,function(a){return e("tr",[e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.username))]),e("td",[t._v(t._s(a.perm))]),e("td",["1"==a.status?e("span",[e("font",{attrs:{color:"green"}},[t._v("生效")])],1):e("span",[e("font",{attrs:{color:"red"}},[t._v("禁用")])],1)]),e("td",[t._v(t._s(a.lastlogin))]),e("td",{staticClass:"btnlist"},[e("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(a.id)}}},[t._v("修改")]),e("Button",{attrs:{type:"warning",size:"small"},on:{click:function(e){t.deleteUser(a.name,a.id)}}},[t._v("删除")])],1)])})],2),e("div",{staticClass:"paper"},[e("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.currentPage,"show-elevator":""},on:{"on-change":t.pageChange}})],1)])])},s=[],i=e("66df"),o={name:"user_list_page",data:function(){return{keyword:"",total:0,pageSize:50,pageCount:0,currentPage:1,list:[]}},computed:{},methods:{stopLoading:function(t){this[t]=!1},search:function(){this.loadData(1)},add:function(){this.$router.push({path:"/user/add"})},edit:function(t){this.$router.push({path:"/user/edit?id="+t})},deleteUser:function(t,a){var e=this;this.$Modal.confirm({title:"确认",content:"确认删除管理员 ".concat(t," 吗?"),onOk:function(t){var n={id:a};i["a"].request({url:"/core/sysmanage/admin/delete",data:n,method:"post"}).then(function(t){200==t.data.code?e.loadData(1):e.$Message.error(t.data.msg)})}})},pageChange:function(t){this.loadData(t)},loadData:function(t){var a=this,e="/core/sysmanage/admin/getlist",n={keyword:this.keyword,page:t,pageSize:this.pageSize};i["a"].request({url:e,data:n,method:"post"}).then(function(t){a.pageCount=t.data.data.pageCount,a.currentPage=t.data.data.currentPage,a.total=t.data.data.total,a.pageSize=t.data.data.pageSize,a.list=t.data.data.list})}},mounted:function(){this.listLoading=!0,this.loadData(1)}},r=o,d=(e("53ea"),e("2877")),l=Object(d["a"])(r,n,s,!1,null,null,null);l.options.__file="index.vue";a["default"]=l.exports},"9a29":function(t,a,e){}}]);