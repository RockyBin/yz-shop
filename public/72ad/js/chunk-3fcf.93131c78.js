(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fcf"],{"0658":function(a,t,e){"use strict";var r=e("7b19"),o=e.n(r);o.a},"7b19":function(a,t,e){},e428:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Card",{attrs:{shadow:""}},[e("div",[e("Form",{ref:"addsiteform",attrs:{model:a.formdata,rules:a.rules,"label-width":100}},[e("FormItem",{attrs:{label:"网站ID"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"text",readonly:""},model:{value:a.formdata.siteid,callback:function(t){a.$set(a.formdata,"siteid",t)},expression:"formdata.siteid"}})],1),e("FormItem",{attrs:{label:"网站名称",prop:"name"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"网站名称"},model:{value:a.formdata.name,callback:function(t){a.$set(a.formdata,"name",t)},expression:"formdata.name"}})],1),e("FormItem",{attrs:{label:"网站域名",prop:"domains"}},[e("Input",{staticStyle:{width:"400px"},attrs:{type:"text",placeholder:"网站域名"},model:{value:a.formdata.domains,callback:function(t){a.$set(a.formdata,"domains",t)},expression:"formdata.domains"}})],1),e("FormItem",{attrs:{label:"过期时间",prop:"expiry_at"}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",value:a.formdata.expiry_at,format:"yyyy-MM-dd",placeholder:"请选择日期"},on:{"on-change":a.changeExTime}})],1),e("FormItem",{attrs:{label:"状态",prop:"status"}},[e("Select",{staticStyle:{width:"200px"},model:{value:a.formdata.status,callback:function(t){a.$set(a.formdata,"status",t)},expression:"formdata.status"}},[e("Option",{attrs:{value:"1"}},[a._v("试用")]),e("Option",{attrs:{value:"2"}},[a._v("试用停用")]),e("Option",{attrs:{value:"3"}},[a._v("生效")]),e("Option",{attrs:{value:"4"}},[a._v("停用")]),e("Option",{attrs:{value:"5"}},[a._v("用户试用停用")]),e("Option",{attrs:{value:"6"}},[a._v("用户停用")])],1)],1),e("FormItem",{attrs:{label:"应用",prop:"module"}},[e("Select",{staticStyle:{width:"200px"},model:{value:a.formdata.module,callback:function(t){a.$set(a.formdata,"module",t)},expression:"formdata.module"}},[e("Option",{attrs:{value:"ModuleShop"}},[a._v("零售商城")])],1)],1),e("FormItem",{attrs:{label:"版本",prop:"version"}},[e("Select",{staticStyle:{width:"200px"},on:{"on-change":a.versionChange},model:{value:a.formdata.version,callback:function(t){a.$set(a.formdata,"version",t)},expression:"formdata.version"}},[e("Option",{attrs:{value:"1"}},[a._v("标准版")]),e("Option",{attrs:{value:"2"}},[a._v("分销版")]),e("Option",{attrs:{value:"3"}},[a._v("3+3渠道版")]),e("Option",{attrs:{value:"4"}},[a._v("直播分销版")]),e("Option",{attrs:{value:"6"}},[a._v("微商版")]),e("Option",{attrs:{value:"7"}},[a._v("3级代理版")]),e("Option",{attrs:{value:"8"}},[a._v("供应商版")])],1)],1),e("FormItem",{attrs:{label:"附加功能",prop:"addfunc"}},[e("CheckboxGroup",{model:{value:a.formdata.addfunc,callback:function(t){a.$set(a.formdata,"addfunc",t)},expression:"formdata.addfunc"}},[e("Checkbox",{attrs:{label:"ENABLE_GROUP_BUYING"}},[a._v("拼团")]),e("Checkbox",{attrs:{label:"ENABLE_LIVE"}},[a._v("直播")]),e("Checkbox",{attrs:{label:"ENABLE_DISTRIBUTION"}},[a._v("分销")]),e("Checkbox",{attrs:{label:"ENABLE_AGENT"}},[a._v("代理")]),e("Checkbox",{attrs:{label:"ENABLE_CLOUDSTOCK"}},[a._v("云仓")]),e("Checkbox",{attrs:{label:"ENABLE_AUTHCERT"}},[a._v("授权证书")]),e("Checkbox",{attrs:{label:"ENABLE_DEALER_INVITE"}},[a._v("授权邀请")]),e("Checkbox",{attrs:{label:"ENABLE_RECHARGE_BONUS"}},[a._v("充值优惠")]),e("Checkbox",{attrs:{label:"ENABLE_SECURITY_CODE"}},[a._v("防伪码")]),e("Checkbox",{attrs:{label:"ENABLE_DEALER_HIDE_LEVEL"}},[a._v("隐藏等级")]),e("Checkbox",{attrs:{label:"ENABLE_WXWORK"}},[a._v("企业微信")]),e("Checkbox",{attrs:{label:"ENABLE_WXAPP"}},[a._v("微信小程序")]),e("Checkbox",{attrs:{label:"ENABLE_ADSCREEN"}},[a._v("广告屏")]),e("Checkbox",{attrs:{label:"ENABLE_FORCE_HIDE_COPYRIGHT"}},[a._v("强制隐藏版权")]),e("Checkbox",{attrs:{label:"ENABLE_CUSTOM_COPYRIGHT"}},[a._v("自定义版权")]),e("Checkbox",{attrs:{label:"ENABLE_AREA_AGENT"}},[a._v("区域代理")]),e("Checkbox",{attrs:{label:"ENABLE_GRATITUDE_AWARD"}},[a._v("感恩奖")]),e("Checkbox",{attrs:{label:"ENABLE_SUPPLIER"}},[a._v("供应商")])],1)],1),e("FormItem",{attrs:{label:"微信支付",prop:"wxpay_service_mode"}},[e("Select",{staticStyle:{width:"200px"},model:{value:a.formdata.wxpay_service_mode,callback:function(t){a.$set(a.formdata,"wxpay_service_mode",t)},expression:"formdata.wxpay_service_mode"}},[e("Option",{attrs:{value:"0"}},[a._v("普通模式")]),e("Option",{attrs:{value:"1"}},[a._v("服务商模式")])],1)],1),e("FormItem",{attrs:{label:"主站产品号",prop:"fidprod"}},[e("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"主站产品号"},model:{value:a.formdata.fidprod,callback:function(t){a.$set(a.formdata,"fidprod",t)},expression:"formdata.fidprod"}})],1),e("FormItem",{attrs:{label:"商品SKU数量"}},[e("Row",[e("Col",{attrs:{span:"6"}},[e("FormItem",{attrs:{label:"规格组："}},[e("Input",{staticStyle:{width:"100px"},attrs:{type:"number",placeholder:"规格组数量"},model:{value:a.formdata.product_sku_num.sku_name_num,callback:function(t){a.$set(a.formdata.product_sku_num,"sku_name_num",t)},expression:"formdata.product_sku_num.sku_name_num"}})],1)],1),e("Col",{attrs:{span:"6"}},[e("FormItem",{attrs:{label:"规格值："}},[e("Input",{staticStyle:{width:"100px"},attrs:{type:"number",placeholder:"规格值数量"},model:{value:a.formdata.product_sku_num.sku_value_num,callback:function(t){a.$set(a.formdata.product_sku_num,"sku_value_num",t)},expression:"formdata.product_sku_num.sku_value_num"}})],1)],1)],1)],1),e("FormItem",{attrs:{label:"员工数量"}},[e("Input",{staticStyle:{width:"100px"},attrs:{type:"number",placeholder:"员工数量"},model:{value:a.formdata.staff_num,callback:function(t){a.$set(a.formdata,"staff_num",t)},expression:"formdata.staff_num"}})],1),e("FormItem",{attrs:{label:"备注"}},[e("Input",{staticStyle:{width:"600px"},attrs:{type:"textarea",placeholder:"请输入备注",maxlength:"2000",rows:"8"},model:{value:a.formdata.remark,callback:function(t){a.$set(a.formdata,"remark",t)},expression:"formdata.remark"}})],1),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:a.handleSubmit}},[a._v("提交")])],1)],1)],1)])},o=[],s=(e("7f7f"),e("c93e")),d=(e("cadf"),e("551c"),e("097d"),e("2f62")),l=e("66df"),n={name:"site_add_page",data:function(){return{formdata:{siteid:this.$route.query.siteid,name:"",domains:"",expiry_at:"",status:"3",version:"1",addfunc:[],fidprod:"",wxpay_service_mode:"0",module:"ModuleShop",staff_num:0,remark:""},rules:{name:[{required:!0,message:"网站名称不能为空",trigger:"blur"}],domains:[{required:!0,message:"网站域名不能为空",trigger:"blur"}],expiry_at:[{required:!0,message:"过期时间不能为空",trigger:"blur"}],fidprod:[{required:!0,message:"主站产品号不能为空",trigger:"blur"}]}}},computed:{},watch:{"formdata.staff_num":{handler:function(a){0==a&&this.versionChange(this.formdata.version)},immediate:!0}},methods:Object(s["a"])({},Object(d["d"])(["closeTag"]),{changeExTime:function(a){this.formdata.expiry_at=a},handleCloseTag:function(){this.closeTag({path:"/site/edit",query:{siteid:this.$route.query.siteid}})},loadInfo:function(){var a=this,t="/core/sysmanage/site/getinfo",e={siteid:this.$route.query.siteid};l["a"].request({url:t,data:e,method:"post"}).then(function(t){200==t.data.code?(a.formdata.name=t.data.data.info.name,a.formdata.domains=t.data.data.info.domains,a.formdata.expiry_at=t.data.data.info.expiry_at,a.formdata.status=t.data.data.info.status+"",a.formdata.version=t.data.data.info.version+"",a.formdata.addfunc=t.data.data.info.addfunc,a.formdata.fidprod=t.data.data.info.fidprod+"",a.formdata.module=t.data.data.info.module,a.formdata.name=t.data.data.info.name,a.formdata.wxpay_service_mode=t.data.data.info.wxpay_service_mode+"",a.formdata.product_sku_num=t.data.data.info.product_sku_num,a.formdata.staff_num=t.data.data.info.staff_num,a.formdata.remark=t.data.data.info.remark):a.$Message.error(t.data.msg)})},handleSubmit:function(){var a=this;this.$refs["addsiteform"].validate(function(t){if(t){var e="/core/sysmanage/site/edit",r=a.formdata;l["a"].request({url:e,data:r,method:"post"}).then(function(t){200==t.data.code?(a.$Message.success("修改网站成功"),a.handleCloseTag(),a.$router.push({path:"/site/index"})):a.$Message.error(t.data.msg)})}else a.$Message.error("请完整填写表单!")})},versionChange:function(a){switch(!0){case 1==a:this.formdata.staff_num=3;break;case 2==a:this.formdata.staff_num=10;break;case 3==a:this.formdata.staff_num=20;break;case 4==a:this.formdata.staff_num=20;break;case 6==a:this.formdata.staff_num=20;break}}}),mounted:function(){this.loadInfo()}},i=n,m=(e("0658"),e("2877")),u=Object(m["a"])(i,r,o,!1,null,null,null);u.options.__file="edit.vue";t["default"]=u.exports}}]);