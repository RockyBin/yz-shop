<?

namespace Ipower\Common;
/**
 * 域名工具类
 * Class DomainUtil
 * @package Ipower\Common
 */
class DomainUtil
{
    static $suffixList = null;
    static $suffixSecondList = null;

    /**
     * 根据域名分析出这个域名的根域名是哪个
     *
     * @param string $domain
     * @return string
     */
    public static function getRootDomain($domain)
    {
        $domain = preg_replace('/\s+/i', '', $domain);
        if (!$domain) return "";
        $domain = strtolower($domain);
        $suffixList = self::getSuffixList();
        foreach ($suffixList as $suffix) {
            if (preg_match('/' . $suffix . '$/i', $domain)) {
                $tmp = preg_replace('/' . $suffix . '$/i', '', $domain);
                $tmp = explode('.', $tmp);
                $domain = $tmp[count($tmp) - 1] . $suffix;
                break;
            }
        }

        return $domain;
    }

    /**
     * 获取域名根后缀列表
     *
     * @return array
     */
    public static function getSuffixList()
    {
        if (self::$suffixList == null) {
            $suffixList = array();

            //入根的域名
            //可通过 https://www.iana.org/domains/root/db 查看此TLD的注册商
            $suffixList[] = ".aaa";
            $suffixList[] = ".abb";
            $suffixList[] = ".abbott";
            $suffixList[] = ".abogado";
            $suffixList[] = ".ac";
            $suffixList[] = ".academy";
            $suffixList[] = ".accenture";
            $suffixList[] = ".accountant";
            $suffixList[] = ".accountants";
            $suffixList[] = ".aco";
            $suffixList[] = ".active";
            $suffixList[] = ".actor";
            $suffixList[] = ".ad";
            $suffixList[] = ".ads";
            $suffixList[] = ".adult";
            $suffixList[] = ".ae";
            $suffixList[] = ".aeg";
            $suffixList[] = ".aero";
            $suffixList[] = ".af";
            $suffixList[] = ".afl";
            $suffixList[] = ".ag";
            $suffixList[] = ".agency";
            $suffixList[] = ".ai";
            $suffixList[] = ".aig";
            $suffixList[] = ".airforce";
            $suffixList[] = ".airtel";
            $suffixList[] = ".al";
            $suffixList[] = ".allfinanz";
            $suffixList[] = ".alsace";
            $suffixList[] = ".am";
            $suffixList[] = ".amica";
            $suffixList[] = ".amsterdam";
            $suffixList[] = ".an";
            $suffixList[] = ".android";
            $suffixList[] = ".ao";
            $suffixList[] = ".apartments";
            $suffixList[] = ".app";
            $suffixList[] = ".aq";
            $suffixList[] = ".aquarelle";
            $suffixList[] = ".ar";
            $suffixList[] = ".archi";
            $suffixList[] = ".army";
            $suffixList[] = ".arpa";
            $suffixList[] = ".as";
            $suffixList[] = ".asia";
            $suffixList[] = ".associates";
            $suffixList[] = ".at";
            $suffixList[] = ".attorney";
            $suffixList[] = ".au";
            $suffixList[] = ".auction";
            $suffixList[] = ".audio";
            $suffixList[] = ".auto";
            $suffixList[] = ".autos";
            $suffixList[] = ".aw";
            $suffixList[] = ".ax";
            $suffixList[] = ".axa";
            $suffixList[] = ".az";
            $suffixList[] = ".azure";
            $suffixList[] = ".ba";
            $suffixList[] = ".band";
            $suffixList[] = ".bank";
            $suffixList[] = ".bar";
            $suffixList[] = ".barcelona";
            $suffixList[] = ".barclaycard";
            $suffixList[] = ".barclays";
            $suffixList[] = ".bargains";
            $suffixList[] = ".bauhaus";
            $suffixList[] = ".bayern";
            $suffixList[] = ".bb";
            $suffixList[] = ".bbc";
            $suffixList[] = ".bbva";
            $suffixList[] = ".bcn";
            $suffixList[] = ".bd";
            $suffixList[] = ".be";
            $suffixList[] = ".beer";
            $suffixList[] = ".bentley";
            $suffixList[] = ".berlin";
            $suffixList[] = ".best";
            $suffixList[] = ".bet";
            $suffixList[] = ".bf";
            $suffixList[] = ".bg";
            $suffixList[] = ".bh";
            $suffixList[] = ".bharti";
            $suffixList[] = ".bi";
            $suffixList[] = ".bible";
            $suffixList[] = ".bid";
            $suffixList[] = ".bike";
            $suffixList[] = ".bing";
            $suffixList[] = ".bingo";
            $suffixList[] = ".bio";
            $suffixList[] = ".biz";
            $suffixList[] = ".bj";
            $suffixList[] = ".bl";
            $suffixList[] = ".black";
            $suffixList[] = ".blackfriday";
            $suffixList[] = ".bloomberg";
            $suffixList[] = ".blue";
            $suffixList[] = ".bm";
            $suffixList[] = ".bmw";
            $suffixList[] = ".bn";
            $suffixList[] = ".bnl";
            $suffixList[] = ".bnpparibas";
            $suffixList[] = ".bo";
            $suffixList[] = ".boats";
            $suffixList[] = ".bond";
            $suffixList[] = ".boo";
            $suffixList[] = ".boots";
            $suffixList[] = ".boutique";
            $suffixList[] = ".bq";
            $suffixList[] = ".br";
            $suffixList[] = ".bradesco";
            $suffixList[] = ".bridgestone";
            $suffixList[] = ".broker";
            $suffixList[] = ".brother";
            $suffixList[] = ".brussels";
            $suffixList[] = ".bs";
            $suffixList[] = ".bt";
            $suffixList[] = ".budapest";
            $suffixList[] = ".build";
            $suffixList[] = ".builders";
            $suffixList[] = ".business";
            $suffixList[] = ".buzz";
            $suffixList[] = ".bv";
            $suffixList[] = ".bw";
            $suffixList[] = ".by";
            $suffixList[] = ".bz";
            $suffixList[] = ".bzh";
            $suffixList[] = ".ca";
            $suffixList[] = ".cab";
            $suffixList[] = ".cafe";
            $suffixList[] = ".cal";
            $suffixList[] = ".camera";
            $suffixList[] = ".camp";
            $suffixList[] = ".cancerresearch";
            $suffixList[] = ".canon";
            $suffixList[] = ".capetown";
            $suffixList[] = ".capital";
            $suffixList[] = ".caravan";
            $suffixList[] = ".cards";
            $suffixList[] = ".care";
            $suffixList[] = ".career";
            $suffixList[] = ".careers";
            $suffixList[] = ".cars";
            $suffixList[] = ".cartier";
            $suffixList[] = ".casa";
            $suffixList[] = ".cash";
            $suffixList[] = ".casino";
            $suffixList[] = ".cat";
            $suffixList[] = ".catering";
            $suffixList[] = ".cba";
            $suffixList[] = ".cbn";
            $suffixList[] = ".cc";
            $suffixList[] = ".cd";
            $suffixList[] = ".ceb";
            $suffixList[] = ".center";
            $suffixList[] = ".ceo";
            $suffixList[] = ".cern";
            $suffixList[] = ".cf";
            $suffixList[] = ".cfa";
            $suffixList[] = ".cfd";
            $suffixList[] = ".cg";
            $suffixList[] = ".ch";
            $suffixList[] = ".chanel";
            $suffixList[] = ".channel";
            $suffixList[] = ".chat";
            $suffixList[] = ".cheap";
            $suffixList[] = ".chloe";
            $suffixList[] = ".christmas";
            $suffixList[] = ".chrome";
            $suffixList[] = ".church";
            $suffixList[] = ".ci";
            $suffixList[] = ".cisco";
            $suffixList[] = ".citic";
            $suffixList[] = ".city";
            $suffixList[] = ".ck";
            $suffixList[] = ".cl";
            $suffixList[] = ".claims";
            $suffixList[] = ".cleaning";
            $suffixList[] = ".click";
            $suffixList[] = ".clinic";
            $suffixList[] = ".clothing";
            $suffixList[] = ".cloud";
            $suffixList[] = ".club";
            $suffixList[] = ".cm";
            $suffixList[] = ".cn";
            $suffixList[] = ".gov.cn";
            $suffixList[] = ".org.cn";
            $suffixList[] = ".co";
            $suffixList[] = ".coach";
            $suffixList[] = ".codes";
            $suffixList[] = ".coffee";
            $suffixList[] = ".college";
            $suffixList[] = ".cologne";
            $suffixList[] = ".com";
            $suffixList[] = ".com.cn";
            $suffixList[] = ".com.hk";
            $suffixList[] = ".commbank";
            $suffixList[] = ".community";
            $suffixList[] = ".company";
            $suffixList[] = ".computer";
            $suffixList[] = ".condos";
            $suffixList[] = ".construction";
            $suffixList[] = ".consulting";
            $suffixList[] = ".contractors";
            $suffixList[] = ".cooking";
            $suffixList[] = ".cool";
            $suffixList[] = ".coop";
            $suffixList[] = ".corsica";
            $suffixList[] = ".country";
            $suffixList[] = ".coupons";
            $suffixList[] = ".courses";
            $suffixList[] = ".cr";
            $suffixList[] = ".credit";
            $suffixList[] = ".creditcard";
            $suffixList[] = ".cricket";
            $suffixList[] = ".crown";
            $suffixList[] = ".crs";
            $suffixList[] = ".cruises";
            $suffixList[] = ".cu";
            $suffixList[] = ".cuisinella";
            $suffixList[] = ".cv";
            $suffixList[] = ".cw";
            $suffixList[] = ".cx";
            $suffixList[] = ".cy";
            $suffixList[] = ".cymru";
            $suffixList[] = ".cyou";
            $suffixList[] = ".cz";
            $suffixList[] = ".dabur";
            $suffixList[] = ".dad";
            $suffixList[] = ".dance";
            $suffixList[] = ".date";
            $suffixList[] = ".dating";
            $suffixList[] = ".datsun";
            $suffixList[] = ".day";
            $suffixList[] = ".dclk";
            $suffixList[] = ".de";
            $suffixList[] = ".deals";
            $suffixList[] = ".degree";
            $suffixList[] = ".delivery";
            $suffixList[] = ".delta";
            $suffixList[] = ".democrat";
            $suffixList[] = ".dental";
            $suffixList[] = ".dentist";
            $suffixList[] = ".desi";
            $suffixList[] = ".design";
            $suffixList[] = ".dev";
            $suffixList[] = ".diamonds";
            $suffixList[] = ".diet";
            $suffixList[] = ".digital";
            $suffixList[] = ".direct";
            $suffixList[] = ".directory";
            $suffixList[] = ".discount";
            $suffixList[] = ".dj";
            $suffixList[] = ".dk";
            $suffixList[] = ".dm";
            $suffixList[] = ".dnp";
            $suffixList[] = ".do";
            $suffixList[] = ".docs";
            $suffixList[] = ".dog";
            $suffixList[] = ".doha";
            $suffixList[] = ".domains";
            $suffixList[] = ".doosan";
            $suffixList[] = ".download";
            $suffixList[] = ".drive";
            $suffixList[] = ".durban";
            $suffixList[] = ".dvag";
            $suffixList[] = ".dz";
            $suffixList[] = ".earth";
            $suffixList[] = ".eat";
            $suffixList[] = ".ec";
            $suffixList[] = ".edu";
            $suffixList[] = ".education";
            $suffixList[] = ".ee";
            $suffixList[] = ".eg";
            $suffixList[] = ".eh";
            $suffixList[] = ".email";
            $suffixList[] = ".emerck";
            $suffixList[] = ".energy";
            $suffixList[] = ".engineer";
            $suffixList[] = ".engineering";
            $suffixList[] = ".enterprises";
            $suffixList[] = ".epson";
            $suffixList[] = ".equipment";
            $suffixList[] = ".er";
            $suffixList[] = ".erni";
            $suffixList[] = ".es";
            $suffixList[] = ".esq";
            $suffixList[] = ".estate";
            $suffixList[] = ".et";
            $suffixList[] = ".eu";
            $suffixList[] = ".eurovision";
            $suffixList[] = ".eus";
            $suffixList[] = ".events";
            $suffixList[] = ".everbank";
            $suffixList[] = ".exchange";
            $suffixList[] = ".expert";
            $suffixList[] = ".exposed";
            $suffixList[] = ".express";
            $suffixList[] = ".fage";
            $suffixList[] = ".fail";
            $suffixList[] = ".faith";
            $suffixList[] = ".family";
            $suffixList[] = ".fan";
            $suffixList[] = ".fans";
            $suffixList[] = ".farm";
            $suffixList[] = ".fashion";
            $suffixList[] = ".feedback";
            $suffixList[] = ".fi";
            $suffixList[] = ".film";
            $suffixList[] = ".finance";
            $suffixList[] = ".financial";
            $suffixList[] = ".firmdale";
            $suffixList[] = ".fish";
            $suffixList[] = ".fishing";
            $suffixList[] = ".fit";
            $suffixList[] = ".fitness";
            $suffixList[] = ".fj";
            $suffixList[] = ".fk";
            $suffixList[] = ".flights";
            $suffixList[] = ".florist";
            $suffixList[] = ".flowers";
            $suffixList[] = ".flsmidth";
            $suffixList[] = ".fly";
            $suffixList[] = ".fm";
            $suffixList[] = ".fo";
            $suffixList[] = ".foo";
            $suffixList[] = ".football";
            $suffixList[] = ".forex";
            $suffixList[] = ".forsale";
            $suffixList[] = ".forum";
            $suffixList[] = ".foundation";
            $suffixList[] = ".fr";
            $suffixList[] = ".frl";
            $suffixList[] = ".frogans";
            $suffixList[] = ".fund";
            $suffixList[] = ".furniture";
            $suffixList[] = ".futbol";
            $suffixList[] = ".fyi";
            $suffixList[] = ".ga";
            $suffixList[] = ".gal";
            $suffixList[] = ".gallery";
            $suffixList[] = ".game";
            $suffixList[] = ".garden";
            $suffixList[] = ".gb";
            $suffixList[] = ".gbiz";
            $suffixList[] = ".gd";
            $suffixList[] = ".gdn";
            $suffixList[] = ".ge";
            $suffixList[] = ".gea";
            $suffixList[] = ".gent";
            $suffixList[] = ".genting";
            $suffixList[] = ".gf";
            $suffixList[] = ".gg";
            $suffixList[] = ".ggee";
            $suffixList[] = ".gh";
            $suffixList[] = ".gi";
            $suffixList[] = ".gift";
            $suffixList[] = ".gifts";
            $suffixList[] = ".gives";
            $suffixList[] = ".giving";
            $suffixList[] = ".gl";
            $suffixList[] = ".glass";
            $suffixList[] = ".gle";
            $suffixList[] = ".global";
            $suffixList[] = ".globo";
            $suffixList[] = ".gm";
            $suffixList[] = ".gmail";
            $suffixList[] = ".gmo";
            $suffixList[] = ".gmx";
            $suffixList[] = ".gn";
            $suffixList[] = ".gold";
            $suffixList[] = ".goldpoint";
            $suffixList[] = ".golf";
            $suffixList[] = ".goo";
            $suffixList[] = ".goog";
            $suffixList[] = ".google";
            $suffixList[] = ".gop";
            $suffixList[] = ".gov";
            $suffixList[] = ".gp";
            $suffixList[] = ".gq";
            $suffixList[] = ".gr";
            $suffixList[] = ".graphics";
            $suffixList[] = ".gratis";
            $suffixList[] = ".green";
            $suffixList[] = ".gripe";
            $suffixList[] = ".group";
            $suffixList[] = ".gs";
            $suffixList[] = ".gt";
            $suffixList[] = ".gu";
            $suffixList[] = ".guge";
            $suffixList[] = ".guide";
            $suffixList[] = ".guitars";
            $suffixList[] = ".guru";
            $suffixList[] = ".gw";
            $suffixList[] = ".gy";
            $suffixList[] = ".hamburg";
            $suffixList[] = ".hangout";
            $suffixList[] = ".haus";
            $suffixList[] = ".healthcare";
            $suffixList[] = ".help";
            $suffixList[] = ".here";
            $suffixList[] = ".hermes";
            $suffixList[] = ".hiphop";
            $suffixList[] = ".hitachi";
            $suffixList[] = ".hiv";
            $suffixList[] = ".hk";
            $suffixList[] = ".hm";
            $suffixList[] = ".hn";
            $suffixList[] = ".hockey";
            $suffixList[] = ".holdings";
            $suffixList[] = ".holiday";
            $suffixList[] = ".homedepot";
            $suffixList[] = ".homes";
            $suffixList[] = ".honda";
            $suffixList[] = ".horse";
            $suffixList[] = ".host";
            $suffixList[] = ".hosting";
            $suffixList[] = ".hoteles";
            $suffixList[] = ".hotmail";
            $suffixList[] = ".house";
            $suffixList[] = ".how";
            $suffixList[] = ".hr";
            $suffixList[] = ".hsbc";
            $suffixList[] = ".ht";
            $suffixList[] = ".hu";
            $suffixList[] = ".ibm";
            $suffixList[] = ".icbc";
            $suffixList[] = ".ice";
            $suffixList[] = ".icu";
            $suffixList[] = ".id";
            $suffixList[] = ".ie";
            $suffixList[] = ".ifm";
            $suffixList[] = ".iinet";
            $suffixList[] = ".il";
            $suffixList[] = ".im";
            $suffixList[] = ".immo";
            $suffixList[] = ".immobilien";
            $suffixList[] = ".in";
            $suffixList[] = ".industries";
            $suffixList[] = ".infiniti";
            $suffixList[] = ".info";
            $suffixList[] = ".ing";
            $suffixList[] = ".ink";
            $suffixList[] = ".institute";
            $suffixList[] = ".insure";
            $suffixList[] = ".int";
            $suffixList[] = ".international";
            $suffixList[] = ".investments";
            $suffixList[] = ".io";
            $suffixList[] = ".ipiranga";
            $suffixList[] = ".iq";
            $suffixList[] = ".ir";
            $suffixList[] = ".irish";
            $suffixList[] = ".is";
            $suffixList[] = ".ist";
            $suffixList[] = ".istanbul";
            $suffixList[] = ".it";
            $suffixList[] = ".itau";
            $suffixList[] = ".iwc";
            $suffixList[] = ".java";
            $suffixList[] = ".jcb";
            $suffixList[] = ".je";
            $suffixList[] = ".jetzt";
            $suffixList[] = ".jewelry";
            $suffixList[] = ".jlc";
            $suffixList[] = ".jll";
            $suffixList[] = ".jm";
            $suffixList[] = ".jo";
            $suffixList[] = ".jobs";
            $suffixList[] = ".joburg";
            $suffixList[] = ".jp";
            $suffixList[] = ".jprs";
            $suffixList[] = ".juegos";
            $suffixList[] = ".kaufen";
            $suffixList[] = ".kddi";
            $suffixList[] = ".ke";
            $suffixList[] = ".kg";
            $suffixList[] = ".kh";
            $suffixList[] = ".ki";
            $suffixList[] = ".kim";
            $suffixList[] = ".kitchen";
            $suffixList[] = ".kiwi";
            $suffixList[] = ".km";
            $suffixList[] = ".kn";
            $suffixList[] = ".koeln";
            $suffixList[] = ".komatsu";
            $suffixList[] = ".kp";
            $suffixList[] = ".kr";
            $suffixList[] = ".krd";
            $suffixList[] = ".kred";
            $suffixList[] = ".kw";
            $suffixList[] = ".ky";
            $suffixList[] = ".kyoto";
            $suffixList[] = ".kz";
            $suffixList[] = ".la";
            $suffixList[] = ".lacaixa";
            $suffixList[] = ".lancaster";
            $suffixList[] = ".land";
            $suffixList[] = ".lasalle";
            $suffixList[] = ".lat";
            $suffixList[] = ".latrobe";
            $suffixList[] = ".law";
            $suffixList[] = ".lawyer";
            $suffixList[] = ".lb";
            $suffixList[] = ".lc";
            $suffixList[] = ".lds";
            $suffixList[] = ".lease";
            $suffixList[] = ".leclerc";
            $suffixList[] = ".legal";
            $suffixList[] = ".lexus";
            $suffixList[] = ".lgbt";
            $suffixList[] = ".li";
            $suffixList[] = ".liaison";
            $suffixList[] = ".lidl";
            $suffixList[] = ".life";
            $suffixList[] = ".lighting";
            $suffixList[] = ".limited";
            $suffixList[] = ".limo";
            $suffixList[] = ".link";
            $suffixList[] = ".live";
            $suffixList[] = ".lixil";
            $suffixList[] = ".lk";
            $suffixList[] = ".loan";
            $suffixList[] = ".loans";
            $suffixList[] = ".lol";
            $suffixList[] = ".london";
            $suffixList[] = ".lotte";
            $suffixList[] = ".lotto";
            $suffixList[] = ".love";
            $suffixList[] = ".lr";
            $suffixList[] = ".ls";
            $suffixList[] = ".lt";
            $suffixList[] = ".ltda";
            $suffixList[] = ".lu";
            $suffixList[] = ".lupin";
            $suffixList[] = ".luxe";
            $suffixList[] = ".luxury";
            $suffixList[] = ".lv";
            $suffixList[] = ".ly";
            $suffixList[] = ".ma";
            $suffixList[] = ".madrid";
            $suffixList[] = ".maif";
            $suffixList[] = ".maison";
            $suffixList[] = ".man";
            $suffixList[] = ".management";
            $suffixList[] = ".mango";
            $suffixList[] = ".market";
            $suffixList[] = ".marketing";
            $suffixList[] = ".markets";
            $suffixList[] = ".marriott";
            $suffixList[] = ".mba";
            $suffixList[] = ".mc";
            $suffixList[] = ".md";
            $suffixList[] = ".me";
            $suffixList[] = ".media";
            $suffixList[] = ".meet";
            $suffixList[] = ".melbourne";
            $suffixList[] = ".meme";
            $suffixList[] = ".memorial";
            $suffixList[] = ".men";
            $suffixList[] = ".menu";
            $suffixList[] = ".mf";
            $suffixList[] = ".mg";
            $suffixList[] = ".mh";
            $suffixList[] = ".miami";
            $suffixList[] = ".microsoft";
            $suffixList[] = ".mil";
            $suffixList[] = ".mini";
            $suffixList[] = ".mk";
            $suffixList[] = ".ml";
            $suffixList[] = ".mm";
            $suffixList[] = ".mma";
            $suffixList[] = ".mn";
            $suffixList[] = ".mo";
            $suffixList[] = ".mobi";
            $suffixList[] = ".moda";
            $suffixList[] = ".moe";
            $suffixList[] = ".mom";
            $suffixList[] = ".monash";
            $suffixList[] = ".money";
            $suffixList[] = ".montblanc";
            $suffixList[] = ".mormon";
            $suffixList[] = ".mortgage";
            $suffixList[] = ".moscow";
            $suffixList[] = ".motorcycles";
            $suffixList[] = ".mov";
            $suffixList[] = ".movie";
            $suffixList[] = ".movistar";
            $suffixList[] = ".mp";
            $suffixList[] = ".mq";
            $suffixList[] = ".mr";
            $suffixList[] = ".ms";
            $suffixList[] = ".mt";
            $suffixList[] = ".mtn";
            $suffixList[] = ".mtpc";
            $suffixList[] = ".mu";
            $suffixList[] = ".museum";
            $suffixList[] = ".mv";
            $suffixList[] = ".mw";
            $suffixList[] = ".mx";
            $suffixList[] = ".my";
            $suffixList[] = ".mz";
            $suffixList[] = ".na";
            $suffixList[] = ".nadex";
            $suffixList[] = ".nagoya";
            $suffixList[] = ".name";
            $suffixList[] = ".navy";
            $suffixList[] = ".nc";
            $suffixList[] = ".ne";
            $suffixList[] = ".nec";
            $suffixList[] = ".net";
            $suffixList[] = ".net.cn";
            $suffixList[] = ".net.hk";
            $suffixList[] = ".netbank";
            $suffixList[] = ".network";
            $suffixList[] = ".neustar";
            $suffixList[] = ".new";
            $suffixList[] = ".news";
            $suffixList[] = ".nexus";
            $suffixList[] = ".nf";
            $suffixList[] = ".ng";
            $suffixList[] = ".ngo";
            $suffixList[] = ".nhk";
            $suffixList[] = ".ni";
            $suffixList[] = ".nico";
            $suffixList[] = ".ninja";
            $suffixList[] = ".nissan";
            $suffixList[] = ".nl";
            $suffixList[] = ".no";
            $suffixList[] = ".nokia";
            $suffixList[] = ".np";
            $suffixList[] = ".nr";
            $suffixList[] = ".nra";
            $suffixList[] = ".nrw";
            $suffixList[] = ".ntt";
            $suffixList[] = ".nu";
            $suffixList[] = ".nyc";
            $suffixList[] = ".nz";
            $suffixList[] = ".office";
            $suffixList[] = ".okinawa";
            $suffixList[] = ".om";
            $suffixList[] = ".omega";
            $suffixList[] = ".one";
            $suffixList[] = ".ong";
            $suffixList[] = ".onl";
            $suffixList[] = ".online";
            $suffixList[] = ".ooo";
            $suffixList[] = ".oracle";
            $suffixList[] = ".orange";
            $suffixList[] = ".org";
            $suffixList[] = ".organic";
            $suffixList[] = ".osaka";
            $suffixList[] = ".otsuka";
            $suffixList[] = ".ovh";
            $suffixList[] = ".pa";
            $suffixList[] = ".page";
            $suffixList[] = ".panerai";
            $suffixList[] = ".paris";
            $suffixList[] = ".partners";
            $suffixList[] = ".parts";
            $suffixList[] = ".party";
            $suffixList[] = ".pe";
            $suffixList[] = ".pet";
            $suffixList[] = ".pf";
            $suffixList[] = ".pg";
            $suffixList[] = ".ph";
            $suffixList[] = ".pharmacy";
            $suffixList[] = ".philips";
            $suffixList[] = ".photo";
            $suffixList[] = ".photography";
            $suffixList[] = ".photos";
            $suffixList[] = ".physio";
            $suffixList[] = ".piaget";
            $suffixList[] = ".pics";
            $suffixList[] = ".pictet";
            $suffixList[] = ".pictures";
            $suffixList[] = ".pink";
            $suffixList[] = ".pizza";
            $suffixList[] = ".pk";
            $suffixList[] = ".pl";
            $suffixList[] = ".place";
            $suffixList[] = ".play";
            $suffixList[] = ".plumbing";
            $suffixList[] = ".plus";
            $suffixList[] = ".pm";
            $suffixList[] = ".pn";
            $suffixList[] = ".pohl";
            $suffixList[] = ".poker";
            $suffixList[] = ".porn";
            $suffixList[] = ".post";
            $suffixList[] = ".pr";
            $suffixList[] = ".praxi";
            $suffixList[] = ".press";
            $suffixList[] = ".pro";
            $suffixList[] = ".prod";
            $suffixList[] = ".productions";
            $suffixList[] = ".prof";
            $suffixList[] = ".properties";
            $suffixList[] = ".property";
            $suffixList[] = ".ps";
            $suffixList[] = ".pt";
            $suffixList[] = ".pub";
            $suffixList[] = ".pw";
            $suffixList[] = ".py";
            $suffixList[] = ".qa";
            $suffixList[] = ".qpon";
            $suffixList[] = ".quebec";
            $suffixList[] = ".racing";
            $suffixList[] = ".re";
            $suffixList[] = ".realtor";
            $suffixList[] = ".realty";
            $suffixList[] = ".recipes";
            $suffixList[] = ".red";
            $suffixList[] = ".redstone";
            $suffixList[] = ".rehab";
            $suffixList[] = ".reise";
            $suffixList[] = ".reisen";
            $suffixList[] = ".reit";
            $suffixList[] = ".ren";
            $suffixList[] = ".rent";
            $suffixList[] = ".rentals";
            $suffixList[] = ".repair";
            $suffixList[] = ".report";
            $suffixList[] = ".republican";
            $suffixList[] = ".rest";
            $suffixList[] = ".restaurant";
            $suffixList[] = ".review";
            $suffixList[] = ".reviews";
            $suffixList[] = ".rich";
            $suffixList[] = ".ricoh";
            $suffixList[] = ".rio";
            $suffixList[] = ".rip";
            $suffixList[] = ".ro";
            $suffixList[] = ".rocks";
            $suffixList[] = ".rodeo";
            $suffixList[] = ".rs";
            $suffixList[] = ".rsvp";
            $suffixList[] = ".ru";
            $suffixList[] = ".ruhr";
            $suffixList[] = ".run";
            $suffixList[] = ".rw";
            $suffixList[] = ".ryukyu";
            $suffixList[] = ".sa";
            $suffixList[] = ".saarland";
            $suffixList[] = ".sakura";
            $suffixList[] = ".sale";
            $suffixList[] = ".samsung";
            $suffixList[] = ".sandvik";
            $suffixList[] = ".sandvikcoromant";
            $suffixList[] = ".sanofi";
            $suffixList[] = ".sap";
            $suffixList[] = ".sarl";
            $suffixList[] = ".saxo";
            $suffixList[] = ".sb";
            $suffixList[] = ".sc";
            $suffixList[] = ".sca";
            $suffixList[] = ".scb";
            $suffixList[] = ".schmidt";
            $suffixList[] = ".scholarships";
            $suffixList[] = ".school";
            $suffixList[] = ".schule";
            $suffixList[] = ".schwarz";
            $suffixList[] = ".science";
            $suffixList[] = ".scor";
            $suffixList[] = ".scot";
            $suffixList[] = ".sd";
            $suffixList[] = ".se";
            $suffixList[] = ".seat";
            $suffixList[] = ".seek";
            $suffixList[] = ".sener";
            $suffixList[] = ".services";
            $suffixList[] = ".sew";
            $suffixList[] = ".sex";
            $suffixList[] = ".sexy";
            $suffixList[] = ".sg";
            $suffixList[] = ".sh";
            $suffixList[] = ".shiksha";
            $suffixList[] = ".shoes";
            $suffixList[] = ".show";
            $suffixList[] = ".shriram";
            $suffixList[] = ".si";
            $suffixList[] = ".singles";
            $suffixList[] = ".site";
            $suffixList[] = ".sj";
            $suffixList[] = ".sk";
            $suffixList[] = ".ski";
            $suffixList[] = ".sky";
            $suffixList[] = ".skype";
            $suffixList[] = ".sl";
            $suffixList[] = ".sm";
            $suffixList[] = ".sn";
            $suffixList[] = ".sncf";
            $suffixList[] = ".so";
            $suffixList[] = ".soccer";
            $suffixList[] = ".social";
            $suffixList[] = ".software";
            $suffixList[] = ".sohu";
            $suffixList[] = ".solar";
            $suffixList[] = ".solutions";
            $suffixList[] = ".sony";
            $suffixList[] = ".soy";
            $suffixList[] = ".space";
            $suffixList[] = ".spiegel";
            $suffixList[] = ".spreadbetting";
            $suffixList[] = ".sr";
            $suffixList[] = ".srl";
            $suffixList[] = ".ss";
            $suffixList[] = ".st";
            $suffixList[] = ".starhub";
            $suffixList[] = ".statoil";
            $suffixList[] = ".stc";
            $suffixList[] = ".stcgroup";
            $suffixList[] = ".studio";
            $suffixList[] = ".study";
            $suffixList[] = ".style";
            $suffixList[] = ".su";
            $suffixList[] = ".sucks";
            $suffixList[] = ".supplies";
            $suffixList[] = ".supply";
            $suffixList[] = ".support";
            $suffixList[] = ".surf";
            $suffixList[] = ".surgery";
            $suffixList[] = ".suzuki";
            $suffixList[] = ".sv";
            $suffixList[] = ".swatch";
            $suffixList[] = ".swiss";
            $suffixList[] = ".sx";
            $suffixList[] = ".sy";
            $suffixList[] = ".sydney";
            $suffixList[] = ".systems";
            $suffixList[] = ".sz";
            $suffixList[] = ".taipei";
            $suffixList[] = ".tatamotors";
            $suffixList[] = ".tatar";
            $suffixList[] = ".tattoo";
            $suffixList[] = ".tax";
            $suffixList[] = ".taxi";
            $suffixList[] = ".tc";
            $suffixList[] = ".td";
            $suffixList[] = ".team";
            $suffixList[] = ".tech";
            $suffixList[] = ".technology";
            $suffixList[] = ".tel";
            $suffixList[] = ".telefonica";
            $suffixList[] = ".temasek";
            $suffixList[] = ".tennis";
            $suffixList[] = ".tf";
            $suffixList[] = ".tg";
            $suffixList[] = ".th";
            $suffixList[] = ".thd";
            $suffixList[] = ".theater";
            $suffixList[] = ".tickets";
            $suffixList[] = ".tienda";
            $suffixList[] = ".tips";
            $suffixList[] = ".tires";
            $suffixList[] = ".tirol";
            $suffixList[] = ".tj";
            $suffixList[] = ".tk";
            $suffixList[] = ".tl";
            $suffixList[] = ".tm";
            $suffixList[] = ".tn";
            $suffixList[] = ".to";
            $suffixList[] = ".today";
            $suffixList[] = ".tokyo";
            $suffixList[] = ".tools";
            $suffixList[] = ".top";
            $suffixList[] = ".toray";
            $suffixList[] = ".toshiba";
            $suffixList[] = ".tours";
            $suffixList[] = ".town";
            $suffixList[] = ".toyota";
            $suffixList[] = ".toys";
            $suffixList[] = ".tp";
            $suffixList[] = ".tr";
            $suffixList[] = ".trade";
            $suffixList[] = ".trading";
            $suffixList[] = ".training";
            $suffixList[] = ".travel";
            $suffixList[] = ".trust";
            $suffixList[] = ".tt";
            $suffixList[] = ".tui";
            $suffixList[] = ".tv";
            $suffixList[] = ".tw";
            $suffixList[] = ".tz";
            $suffixList[] = ".ua";
            $suffixList[] = ".ubs";
            $suffixList[] = ".ug";
            $suffixList[] = ".uk";
            $suffixList[] = ".um";
            $suffixList[] = ".university";
            $suffixList[] = ".uno";
            $suffixList[] = ".uol";
            $suffixList[] = ".us";
            $suffixList[] = ".uy";
            $suffixList[] = ".uz";
            $suffixList[] = ".va";
            $suffixList[] = ".vacations";
            $suffixList[] = ".vc";
            $suffixList[] = ".ve";
            $suffixList[] = ".vegas";
            $suffixList[] = ".ventures";
            $suffixList[] = ".versicherung";
            $suffixList[] = ".vet";
            $suffixList[] = ".vg";
            $suffixList[] = ".vi";
            $suffixList[] = ".viajes";
            $suffixList[] = ".video";
            $suffixList[] = ".villas";
            $suffixList[] = ".vin";
            $suffixList[] = ".vip";
            $suffixList[] = ".vision";
            $suffixList[] = ".vista";
            $suffixList[] = ".vistaprint";
            $suffixList[] = ".viva";
            $suffixList[] = ".vlaanderen";
            $suffixList[] = ".vn";
            $suffixList[] = ".vodka";
            $suffixList[] = ".vote";
            $suffixList[] = ".voting";
            $suffixList[] = ".voto";
            $suffixList[] = ".voyage";
            $suffixList[] = ".vu";
            $suffixList[] = ".wales";
            $suffixList[] = ".walter";
            $suffixList[] = ".wang";
            $suffixList[] = ".watch";
            $suffixList[] = ".webcam";
            $suffixList[] = ".website";
            $suffixList[] = ".wed";
            $suffixList[] = ".wedding";
            $suffixList[] = ".weir";
            $suffixList[] = ".wf";
            $suffixList[] = ".whoswho";
            $suffixList[] = ".wien";
            $suffixList[] = ".wiki";
            $suffixList[] = ".williamhill";
            $suffixList[] = ".win";
            $suffixList[] = ".windows";
            $suffixList[] = ".wine";
            $suffixList[] = ".wme";
            $suffixList[] = ".work";
            $suffixList[] = ".works";
            $suffixList[] = ".world";
            $suffixList[] = ".ws";
            $suffixList[] = ".wtc";
            $suffixList[] = ".wtf";
            $suffixList[] = ".xbox";
            $suffixList[] = ".xerox";
            $suffixList[] = ".xin";
            $suffixList[] = ".xperia";
            $suffixList[] = ".xxx";
            $suffixList[] = ".xyz";
            $suffixList[] = ".yachts";
            $suffixList[] = ".yandex";
            $suffixList[] = ".ye";
            $suffixList[] = ".yodobashi";
            $suffixList[] = ".yoga";
            $suffixList[] = ".yokohama";
            $suffixList[] = ".youtube";
            $suffixList[] = ".yt";
            $suffixList[] = ".za";
            $suffixList[] = ".zip";
            $suffixList[] = ".zm";
            $suffixList[] = ".zone";
            $suffixList[] = ".zuerich";
            $suffixList[] = ".zw";

            //中国的省市的二级.cn ，如 .gd.cn 等
            $suffixList[] = ".ac.cn";
            $suffixList[] = ".bj.cn";
            $suffixList[] = ".sh.cn";
            $suffixList[] = ".tj.cn";
            $suffixList[] = ".cq.cn";
            $suffixList[] = ".he.cn";
            $suffixList[] = ".sx.cn";
            $suffixList[] = ".nm.cn";
            $suffixList[] = ".ln.cn";
            $suffixList[] = ".jl.cn";
            $suffixList[] = ".hl.cn";
            $suffixList[] = ".js.cn";
            $suffixList[] = ".zj.cn";
            $suffixList[] = ".ah.cn";
            $suffixList[] = ".fj.cn";
            $suffixList[] = ".jx.cn";
            $suffixList[] = ".sd.cn";
            $suffixList[] = ".ha.cn";
            $suffixList[] = ".hb.cn";
            $suffixList[] = ".hn.cn";
            $suffixList[] = ".gd.cn";
            $suffixList[] = ".gx.cn";
            $suffixList[] = ".hi.cn";
            $suffixList[] = ".sc.cn";
            $suffixList[] = ".gz.cn";
            $suffixList[] = ".yn.cn";
            $suffixList[] = ".xz.cn";
            $suffixList[] = ".sn.cn";
            $suffixList[] = ".gs.cn";
            $suffixList[] = ".qh.cn";
            $suffixList[] = ".nx.cn";
            $suffixList[] = ".xj.cn";
            $suffixList[] = ".tw.cn";
            $suffixList[] = ".hk.cn";
            $suffixList[] = ".mo.cn";

            //排一下序，保证匹配规则越长的在前台，以免有些匹配带有相同的字符时会匹配错误，如
            // .cn     .com.cn ,这两钟如果不进行排序的话，就会永远都只匹配第一个
            $sortFunc = function ($a, $b) {
                $lenA = strlen($a);
                $lenB = strlen($b);
                if ($lenA == $lenB) 0;
                return ($lenA < $lenB) ? 1 : -1;
            };
            uasort($suffixList, $sortFunc);

            self::$suffixList = $suffixList;
        }

        return self::$suffixList;
    }

    /**
     * 获取系统赠送的域名列表
     * @return array
     */
    public static function getSystemGiftDomain()
    {
        $result = [];
        $configStr = config('app.DOMAIN_GIFT');
        if ($configStr) {
            $domainList = explode(',', $configStr);
            foreach ($domainList as $domainItem) {
                if (trim($domainItem)) {
                    $result[] = strtolower(trim($domainItem));
                }
            }
        }
        return $result;
    }

    /**
     * 判断一个域名是否系统赠送的域名
     * @param $domain
     * @return bool
     */
    public static function isSystemGiftDomain($domain)
    {
        $domain = strtolower(trim($domain));
        if (!$domain) return false;
        $giftDomains = self::getSystemGiftDomain();
        foreach ($giftDomains as $giftDomain) {
            if (stripos($domain, "." . $giftDomain) !== false || $domain == $giftDomain) {
                return true;
            }
        }
        return false;
    }
}

?>